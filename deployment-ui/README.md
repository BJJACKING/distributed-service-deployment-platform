# åˆ†å¸ƒå¼æœåŠ¡éƒ¨ç½²å¹³å° - Reactç®¡ç†ç•Œé¢

ä¸€ä¸ªç°ä»£åŒ–çš„åˆ†å¸ƒå¼æœåŠ¡éƒ¨ç½²å¹³å°ç®¡ç†ç•Œé¢ï¼Œä½¿ç”¨React + TypeScript + Ant Designæ„å»ºã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - åŸºäºAnt Designçš„ä¼˜é›…UIè®¾è®¡
- ğŸ“Š **å®æ—¶ç›‘æ§** - æœåŠ¡å™¨çŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡å®æ—¶å±•ç¤º
- ğŸš€ **ä¸€é”®éƒ¨ç½²** - å¯è§†åŒ–éƒ¨ç½²æ“ä½œ
- ğŸ”„ **ç‰ˆæœ¬ç®¡ç†** - éƒ¨ç½²å†å²å’Œå›æ»šåŠŸèƒ½
- ğŸ“ˆ **æ•°æ®å¯è§†åŒ–** - ä¸°å¯Œçš„å›¾è¡¨å±•ç¤º
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript
- **UIç»„ä»¶åº“**: Ant Design 5
- **å›¾è¡¨åº“**: Recharts
- **è·¯ç”±**: React Router DOM 6
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vite
- **åŒ…ç®¡ç†**: npm/yarn/pnpm

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
cd deployment-ui
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£: 3001)
npm run dev

# å¯åŠ¨APIæœåŠ¡å™¨ (ç«¯å£: 3002)
node api-server.js
```

### 3. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3001

## é¡¹ç›®ç»“æ„

```
deployment-ui/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ contexts/      # React Context
â”‚   â”œâ”€â”€ App.tsx        # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx       # åº”ç”¨å…¥å£
â”œâ”€â”€ api-server.js      # æ¨¡æ‹ŸAPIæœåŠ¡å™¨
â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts     # Viteé…ç½®
â””â”€â”€ README.md          # è¯´æ˜æ–‡æ¡£
```

## é¡µé¢è¯´æ˜

### 1. ä»ªè¡¨ç›˜ (Dashboard)
- ç³»ç»Ÿæ¦‚è§ˆå’Œå…³é”®æŒ‡æ ‡
- å®æ—¶æ€§èƒ½å›¾è¡¨
- æœåŠ¡å™¨çŠ¶æ€åˆ†å¸ƒ
- æœ€è¿‘æ´»åŠ¨æ—¶é—´çº¿

### 2. æœåŠ¡å™¨ç®¡ç† (Servers)
- æœåŠ¡å™¨åˆ—è¡¨å’ŒçŠ¶æ€
- èµ„æºä½¿ç”¨æƒ…å†µ
- æœåŠ¡å™¨è¯¦æƒ…æŸ¥çœ‹
- æ‰¹é‡æ“ä½œåŠŸèƒ½

### 3. éƒ¨ç½²ç®¡ç† (Deployments)
- éƒ¨ç½²ä»»åŠ¡ç®¡ç†
- éƒ¨ç½²å†å²è®°å½•
- ä¸€é”®éƒ¨ç½²å’Œå›æ»š
- éƒ¨ç½²è¿›åº¦è·Ÿè¸ª

### 4. ç³»ç»Ÿç›‘æ§ (Monitoring)
- å®æ—¶æ€§èƒ½ç›‘æ§
- èµ„æºä½¿ç”¨è¶‹åŠ¿
- å‘Šè­¦å’Œé€šçŸ¥
- å†å²æ•°æ®åˆ†æ

### 5. æ—¥å¿—æŸ¥çœ‹ (Logs)
- éƒ¨ç½²æ—¥å¿—
- ç³»ç»Ÿæ—¥å¿—
- é”™è¯¯æ—¥å¿—
- æ—¥å¿—ç­›é€‰å’Œæœç´¢

### 6. ç³»ç»Ÿè®¾ç½® (Settings)
- å¹³å°é…ç½®
- ç”¨æˆ·ç®¡ç†
- é€šçŸ¥è®¾ç½®
- ç³»ç»Ÿä¿¡æ¯

## APIæ¥å£

### æ¨¡æ‹ŸAPIæœåŠ¡å™¨
é¡¹ç›®åŒ…å«ä¸€ä¸ªæ¨¡æ‹ŸAPIæœåŠ¡å™¨ (`api-server.js`)ï¼Œæä¾›ä»¥ä¸‹æ¥å£ï¼š

- `GET /api/servers` - è·å–æœåŠ¡å™¨åˆ—è¡¨
- `GET /api/deployments` - è·å–éƒ¨ç½²åˆ—è¡¨
- `POST /api/deploy` - æ‰§è¡Œéƒ¨ç½²
- `POST /api/rollback/:id` - å›æ»šéƒ¨ç½²
- `GET /api/monitoring` - è·å–ç›‘æ§æ•°æ®
- `GET /api/logs` - è·å–æ—¥å¿—
- `GET /api/health` - å¥åº·æ£€æŸ¥

### è¿æ¥çœŸå®åç«¯
è¦è¿æ¥çœŸå®çš„éƒ¨ç½²å¹³å°åç«¯ï¼Œä¿®æ”¹ `src/contexts/DeploymentContext.tsx` ä¸­çš„ `API_BASE_URL`ï¼š
```typescript
const API_BASE_URL = 'http://your-real-api-server:port/api';
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢
1. åœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
2. åœ¨ `src/App.tsx` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. åœ¨ `src/components/Sidebar.tsx` ä¸­æ·»åŠ èœå•é¡¹

### æ·»åŠ æ–°ç»„ä»¶
1. åœ¨ `src/components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶
2. ä½¿ç”¨TypeScriptå®šä¹‰Propsæ¥å£
3. å¯¼å‡ºç»„ä»¶ä¾›å…¶ä»–æ–‡ä»¶ä½¿ç”¨

### æ ·å¼å®šåˆ¶
- å…¨å±€æ ·å¼: `src/index.css`
- ç»„ä»¶æ ·å¼: ä½¿ç”¨CSSæ¨¡å—æˆ–å†…è”æ ·å¼
- ä¸»é¢˜å®šåˆ¶: ä¿®æ”¹ `src/App.tsx` ä¸­çš„ConfigProvideré…ç½®

## æ„å»ºéƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev
```

### ç”Ÿäº§æ„å»º
```bash
npm run build
```

æ„å»ºåçš„æ–‡ä»¶ä½äº `dist/` ç›®å½•ï¼Œå¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ã€‚

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
```bash
npm run preview
```

## ä¸éƒ¨ç½²å¹³å°é›†æˆ

### 1. è¿æ¥çœŸå®éƒ¨ç½²è„šæœ¬
ä¿®æ”¹ `api-server.js`ï¼Œå°†æ¨¡æ‹ŸAPIè°ƒç”¨æ›¿æ¢ä¸ºçœŸå®çš„éƒ¨ç½²è„šæœ¬è°ƒç”¨ï¼š

```javascript
// ç¤ºä¾‹ï¼šè°ƒç”¨çœŸå®çš„éƒ¨ç½²è„šæœ¬
app.post('/api/deploy', async (req, res) => {
  const { version, servers } = req.body;
  
  try {
    // è°ƒç”¨çœŸå®çš„éƒ¨ç½²è„šæœ¬
    const { stdout, stderr } = await execPromise(
      `cd ../deployment-platform && ./deploy.sh deploy`
    );
    
    res.json({
      success: true,
      output: stdout,
      error: stderr
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});
```

### 2. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env` æ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡ï¼š
```env
VITE_API_BASE_URL=http://localhost:3002/api
VITE_APP_TITLE=éƒ¨ç½²ç®¡ç†å¹³å°
VITE_APP_VERSION=1.0.0
```

## æ€§èƒ½ä¼˜åŒ–

### ä»£ç åˆ†å‰²
Viteè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼ŒæŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶ã€‚

### å›¾ç‰‡ä¼˜åŒ–
- ä½¿ç”¨WebPæ ¼å¼å›¾ç‰‡
- å®ç°æ‡’åŠ è½½
- ä½¿ç”¨å›¾ç‰‡å‹ç¼©

### ç¼“å­˜ç­–ç•¥
- APIå“åº”ç¼“å­˜
- æœ¬åœ°å­˜å‚¨ç¼“å­˜
- æœåŠ¡ç«¯æ¸²æŸ“ç¼“å­˜

## æµè§ˆå™¨æ”¯æŒ

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## è®¸å¯è¯

MIT License

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»ç»´æŠ¤è€…ã€‚